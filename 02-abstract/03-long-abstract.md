# Long Abstract

When Alexandria Little started development on the latest version of the [Open Source Ecology](https://www.opensourceecology.org/) [D3D Pro 3D Printer](https://www.opensourceecology.org/d3d-pro/) ([source](https://github.com/AlexandriaLittle/d3d-pro)), she chose to use an incredibly pre-release set of tooling to create and manage its Open Source Hardware (OSHW) documentation. Why? It saves her time, improves the documentation quality, and helps her get more done with less worry.  And, what was this tool? It was Mach 30's minimum viable implementation of the Distributed OSHW Framework (DOF), their Docs-as-Models-as-Code (DAMAC) for OSHW methodology. And, Ms. Little's tool selection makes the D3D Pro 3D Printer the first demonstrated success of the DAMAC approach for Open Source projects that is the heart of Mach 30's DOF.

In this presentation, we will take a closer look at the Mach 30's DAMAC approach, starting with its successful deployment within the D3D Pro project, followed by examining the innovative workflow underlying the use of DAMAC, and closing with Mach 30's roadmap for delivering a new open source tool that will enable you to use DAMAC for your own projects.

A key feature of DAMAC workflows is the ability to generate documentation from a modeled representation of a user's subject matter.  Generating documentation in this manner yields significant time savings over manually written documentation.  For the D3D Pro project the time savings took two forms: development time and maintenance time. 

Development time savings came in the form of fearlessness.  Ms. Little reported experiencing a freedom to experiment with the details of the design and specification.  This freedom came from the knowledge that she did not have to worry about making a mistake in the documentation that would generate hours of mindless work undoing experimental changes since as Ms. Little says, "it would be fixed everywhere in the docs after the next time they were generated."   Development time savings were similarly powered by the universal updates provided when the documentation was regenerated.  For example, changing a detail such as renaming a part from "M6 Hex Nut" to "M6 Nut" was nearly instantaneous regardless of how many times the detail appeared in the documentation as the user steps were to make the change once in the modeled representation and execute the documentation generation tool.  

One of the most significant examples of the improved quality of the D3D Pro project provided by utilizing the DAMAC approach is the ease with which end users can understand and follow the resulting [assembly documentation](https://alexandrialittle.github.io/d3d-pro/). This ease of understanding comes from the documentation's consistent structure for every step in the assembly process.  And the consistent structure is a result of the DAMAC workflow's description of how to generate the documentation from the modeled representation.  In the case of the D3D Pro's generated assembly documentation, each step begins with a listing of the required tools and materials, then continues with the complete list of precautions associated with the step's required tools and materials, and concludes with the step-by-step procedure to perform the current assembly operation.  

Finally, generating the documentation for the D3D Pro is worry free as the generation process never misses a detail, ensuring that no matter how many times a design element is shown in the documentation, it is always the same since there is exactly one version of it in the modeled representation.  For example, The part name "M3 x 10mm Cap Screw" appears six times in the assembly documentation.  However, if one examines the modeled representation in the project's GitHub source repo, they will find this string appears exactly once, as the description field in the m3-10mm-cap-screw component's package.json file.

How did we arrive at the solution demonstrated in the D3D Pro 3D Printer project? The short story is we stopped trying to figure out how to build a GitHub for Open Source Hardware (OSHW) and instead asked ourselves, "How can we make OSHW work in Git?" (For the long story, check out our SCALE 20x talk, [Fire, Smoke, and Open Source Hardware](https://www.socallinuxexpo.org/scale/20x/presentations/fire-smoke-and-open-source-hardware/).)   By asking the right question, we found we needed an approach to documenting open source projects that managed the content in plain text files with a Git-friendly structure, created a clear separation of concerns between content and formatting, and that ensured simple content development and maintenance.  The approach we developed to meet those needs is Docs-as-Models-as-Code.

We are meeting the first need with the development of [YAML Datastore](https://github.com/Mach30/yaml-datastore), a lightweight Typescript library.  This library stores and manages data with structured plaintext files and YAML syntax that are designed for use with version control systems. This enables users to gain the advantages of Git for their data, including tracking changes at the feature level, storing data across multiple systems, and merging data seamlessly, without having manually manage the on disk representation of their data. When the data in question is a model, the resulting project directory becomes the "Models-as-Code" part of the DAMAC approach.

Our solution for separating the concerns between content and formatting is inspired by software development patterns such as Model-View-Controller and Model Based Systems Engineering techniques.  In the DAMAC approach the development of documentation is separated  into modeled content and formatted views. The modeled content covers any piece of information that is a part of the documentation. This includes technical details such as a part number or the mass of a component and commentary such as a technical note or a reference to another portion of a document. Conversely, formatted views define the page layout including what content to present, the order of presentation, and content styling. Formatted views can be used to define machine readable documents (queries) and human readable documents (user artifacts). Further, formatted views can be defined to render content directly from a model or from another machine readable view (query).  The resulting ability to render documents from models is the "Docs-as-Models" part of DAMAC.

Which begs the question, "How does one connect the 'Docs-as-Models' and 'Models-as-Code' parts of the DAMAC approach?" The answer is with DRY [LinkML](https://linkml.io/) schemas. LinkML is a YAML-based language for describing the structure of models as schemas. Utilizing LinkML schemas to define how projects are modeled creates a structured approach for managing the a project's content. This structure ensures the formatted views described above have a reliable means of accessing the content within the model. It also provides clear guidance to developers on where to place content within the model. Additionally, we place special focus on developing project model schemas that ensure the modeled content is stored according to the software engineering principle of "Don't Repeat Yourself" (DRY). Focusing on the DRY principle further clarifies where developers should be adding new content by providing a singular location for each element of content.  More importantly, it clarifies where to find content that requires revision when design changes and other maintenance activities need to be performed by ensuring users know the exact single location where the content needs to be edited.

"Real artists ship!"  After years of experimenting with the DAMAC approach and tooling, the Mach 30 team has adopted this Steve Jobs quote as the guiding mantra for the Distributed OSHW Framework and DAMAC.  We believe it is essential to enable more users to get the benefits Ms. Little saw when developing the D3D Pro 3D Printer. To that end, Mach 30 has launched the [DOF Initiative](https://github.com/dof-initiative) to pull together the development of an initial release of a DOF tool.  Our objectives for this release are to make sharing Models-as-Code in Git just work, provide an example DAMAC schema targeting OSHW documentation, and ultimately to deliver a tool to the community to use the example schema to document OSHW projects.

To reach out first objective, we will implement the Create, Read, Update, and Delete (CRUD) functionality and publish the related documentation of the Models-as-Code library, YAML Datastore, by the end of the second quarter of 2026.  The current status of this development, as of the submission of this abstract, is as follows.

- Create: 100% complete
- Read: 100% complete
- Update: Not yet started (this is the most complicated functionality which includes inserting data, modifying data, and addressing merge conflicts in data)
- Delete: 33% complete (in progress)
- Documentation: 10% complete (in progress starting with on disk representation, this work naturally trails feature development)

To reach our second objective, we will develop a DRY LinkML Schema based on the modeling done for the D3D Pro, named DOF Alpha.  DOF Alpha will define all model elements required to specify the D3D Pro.  It will also include the definitions for the assembly instructions view and any query definitions required to produce the assembly instructions artifact.  Development of DOF Alpha begins in January 2026, with an initial release planned for the end of the second quarter of 2026.

For our final objective, we will integrate YAML Datastore and DOF Alpha into the DOF command line tool, m30pm.  The m30pm tool already includes core functionality to create projects compatible with these technologies and to create views from modeled content.  The integration of YAML Datastore will give m30pm the capability to manage modeled content.  For DOF Alpha, the integration will be implemented as a user selectable schema, enabling users to leverage m30pm with future schemas targeting other open source project types including software and science.  Our goal is demo m30pm using the DOF Alpha schema at next year's SCALE 24x.
